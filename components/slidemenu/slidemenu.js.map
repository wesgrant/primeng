{"version":3,"file":"slidemenu.js","sourceRoot":"","sources":["slidemenu.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewInit,OnDestroy,Input,Output,Renderer,EventEmitter,Inject,forwardRef,ViewChild} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {DomHandler} from '../dom/domhandler';\r\nimport {MenuItem} from '../common/api';\r\nimport {Location} from '@angular/common';\r\nimport {RouterModule} from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'p-slideMenuSub',\r\n    template: `\r\n        <ul [ngClass]=\"{'ui-helper-reset ui-menu-rootlist':root, 'ui-widget-content ui-corner-all ui-helper-clearfix ui-menu-child':!root}\" class=\"ui-menu-list\"\r\n            [style.width.px]=\"menuWidth\" [style.left.px]=\"root ? slideMenu.left : slideMenu.menuWidth\" \r\n            [style.transitionProperty]=\"root ? 'left' : 'none'\" [style.transitionDuration]=\"effectDuration + 'ms'\" [style.transitionTimingFunction]=\"easing\">\r\n            <ng-template ngFor let-child [ngForOf]=\"(root ? item : item.items)\">\r\n                <li #listitem [ngClass]=\"{'ui-menuitem ui-widget ui-corner-all':true,'ui-menu-parent':child.items,'ui-slidemenuitem-active':listitem==activeItem}\">\r\n                    <a *ngIf=\"!item.routerLink\" [href]=\"child.url||'#'\" class=\"ui-menuitem-link ui-corner-all\" [attr.target]=\"child.target\"\r\n                        [ngClass]=\"{'ui-menuitem-link-parent':child.items,'ui-state-disabled':child.disabled}\" \r\n                        (click)=\"itemClick($event, child, listitem)\">\r\n                        <span class=\"ui-submenu-icon fa fa-fw fa-caret-right\" *ngIf=\"child.items\"></span>\r\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\r\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\r\n                    </a>\r\n                    <a *ngIf=\"item.routerLink\" [routerLink]=\"item.routerLink\" [routerLinkActive]=\"'ui-state-active'\" [href]=\"child.url||'#'\" class=\"ui-menuitem-link ui-corner-all\" [attr.target]=\"child.target\"\r\n                        [ngClass]=\"{'ui-menuitem-link-parent':child.items,'ui-state-disabled':child.disabled}\" \r\n                        (click)=\"itemClick($event, child, listitem)\">\r\n                        <span class=\"ui-submenu-icon fa fa-fw fa-caret-right\" *ngIf=\"child.items\"></span>\r\n                        <span class=\"ui-menuitem-icon fa fa-fw\" *ngIf=\"child.icon\" [ngClass]=\"child.icon\"></span>\r\n                        <span class=\"ui-menuitem-text\">{{child.label}}</span>\r\n                    </a>\r\n                    <p-slideMenuSub class=\"ui-submenu\" [item]=\"child\" [menuWidth]=\"menuWidth\" *ngIf=\"child.items\"></p-slideMenuSub>\r\n                </li>\r\n            </ng-template>\r\n        </ul>\r\n    `\r\n})\r\nexport class SlideMenuSub implements OnDestroy {\r\n\r\n    @Input() item: MenuItem;\r\n    \r\n    @Input() root: boolean;\r\n    \r\n    @Input() backLabel: string = 'Back';\r\n    \r\n    @Input() menuWidth: string;\r\n    \r\n    @Input() effectDuration: any;\r\n        \r\n    @Input() easing: string = 'ease-out';\r\n        \r\n    constructor(@Inject(forwardRef(() => SlideMenu)) public slideMenu: SlideMenu) {}\r\n        \r\n    activeItem: any;\r\n                            \r\n    itemClick(event, item: MenuItem, listitem: any)Â {\r\n        if(item.disabled) {\r\n            event.preventDefault();\r\n            return;\r\n        }\r\n        \r\n        if(!item.url) {\r\n            event.preventDefault();\r\n        }\r\n                \r\n        if(item.command) {\r\n            if(!item.eventEmitter && item.command) {\r\n                item.eventEmitter = new EventEmitter();\r\n                item.eventEmitter.subscribe(item.command);\r\n            }\r\n            \r\n            item.eventEmitter.emit({\r\n                originalEvent: event,\r\n                item: item\r\n            });\r\n        }\r\n        \r\n        if(item.items && !this.slideMenu.animating) {\r\n            this.slideMenu.left -= this.slideMenu.menuWidth;\r\n            this.activeItem = listitem;\r\n            this.slideMenu.animating = true;\r\n            setTimeout(() => this.slideMenu.animating = false, this.effectDuration);\r\n        }\r\n    }\r\n        \r\n    ngOnDestroy() {\r\n        this.activeItem = null;\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'p-slideMenu',\r\n    template: `\r\n        <div #container [ngClass]=\"{'ui-menu ui-slidemenu ui-widget ui-widget-content ui-corner-all':true,'ui-menu-dynamic ui-shadow':popup}\" \r\n            [class]=\"styleClass\" [ngStyle]=\"style\" (click)=\"onClick($event)\">\r\n            <div class=\"ui-slidemenu-wrapper\" [style.height.px]=\"viewportHeight\">\r\n                <div #slideMenuContent class=\"ui-slidemenu-content\">\r\n                    <p-slideMenuSub [item]=\"model\" root=\"root\" [menuWidth]=\"menuWidth\" [effectDuration]=\"effectDuration\" [easing]=\"easing\"></p-slideMenuSub>\r\n                </div>\r\n                <div #backward class=\"ui-slidemenu-backward ui-widget-header ui-corner-all\" [style.display]=\"left ? 'block' : 'none'\" (click)=\"goBack()\">\r\n                    <span class=\"fa fa-fw fa-caret-left\"></span><span>{{backLabel}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    providers: [DomHandler]\r\n})\r\nexport class SlideMenu implements AfterViewInit,OnDestroy {\r\n\r\n    @Input() model: MenuItem[];\r\n\r\n    @Input() popup: boolean;\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n    \r\n    @Input() menuWidth: number = 200;\r\n    \r\n    @Input() viewportHeight: number = 175;\r\n    \r\n    @Input() effectDuration: any = 500;\r\n        \r\n    @Input() easing: string = 'ease-out';\r\n    \r\n    @Input() backLabel: string = 'Back';\r\n    \r\n    @ViewChild('container') containerViewChild: ElementRef;\r\n    \r\n    @ViewChild('backward') backwardViewChild: ElementRef;\r\n    \r\n    @ViewChild('slideMenuContent') slideMenuContentViewChild: ElementRef;\r\n    \r\n    public container: HTMLDivElement;\r\n    \r\n    public backwardElement: HTMLDivElement;\r\n    \r\n    public slideMenuContentElement: HTMLDivElement;\r\n    \r\n    public documentClickListener: any;\r\n    \r\n    public preventDocumentDefault: any;\r\n        \r\n    public left: number = 0;\r\n    \r\n    public animating: boolean = false;\r\n        \r\n    constructor(public el: ElementRef, public domHandler: DomHandler, public renderer: Renderer) {}\r\n\r\n    ngAfterViewInit() {\r\n        this.container = <HTMLDivElement> this.containerViewChild.nativeElement;\r\n        this.backwardElement = <HTMLDivElement> this.backwardViewChild.nativeElement;\r\n        this.slideMenuContentElement = <HTMLDivElement> this.slideMenuContentViewChild.nativeElement;\r\n        this.slideMenuContentElement.style.height = this.viewportHeight - this.domHandler.getHiddenElementOuterHeight(this.backwardElement) + 'px';\r\n        \r\n        if(this.popup) {\r\n            this.documentClickListener = this.renderer.listenGlobal('document', 'click', () => {\r\n                if(!this.preventDocumentDefault) {\r\n                    this.hide();\r\n                }\r\n                this.preventDocumentDefault = false;\r\n            });\r\n        }\r\n    }\r\n    \r\n    toggle(event) {\r\n        if(this.container.offsetParent)\r\n            this.hide();\r\n        else\r\n            this.show(event);\r\n    }\r\n    \r\n    show(event) {\r\n        this.preventDocumentDefault = true;\r\n        this.container.style.display = 'block';\r\n        this.domHandler.absolutePosition(this.container, event.target);\r\n        this.domHandler.fadeIn(this.container, 250);\r\n    }\r\n    \r\n    hide() {\r\n        this.container.style.display = 'none';\r\n    }\r\n\r\n    unsubscribe(item: any) {\r\n        if(item.eventEmitter) {\r\n            item.eventEmitter.unsubscribe();\r\n        }\r\n        \r\n        if(item.items) {\r\n            for(let childItem of item.items) {\r\n                this.unsubscribe(childItem);\r\n            }\r\n        }\r\n    }\r\n    \r\n    onClick(event) {\r\n        this.preventDocumentDefault = true;\r\n    }\r\n    \r\n    goBack() {\r\n        this.left += this.menuWidth;\r\n    }\r\n        \r\n    ngOnDestroy() {\r\n        if(this.documentClickListener) {\r\n            this.documentClickListener();\r\n        }\r\n        \r\n        if(this.model) {\r\n            for(let item of this.model) {\r\n                this.unsubscribe(item);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule,RouterModule],\r\n    exports: [SlideMenu,RouterModule],\r\n    declarations: [SlideMenu,SlideMenuSub]\r\n})\r\nexport class SlideMenuModule { }\r\n"]}