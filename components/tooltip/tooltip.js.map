{"version":3,"file":"tooltip.js","sourceRoot":"","sources":["tooltip.ts"],"names":[],"mappings":"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","sourcesContent":["import {NgModule,Directive,ElementRef,OnDestroy,HostBinding,HostListener,Input} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {DomHandler} from '../dom/domhandler';\r\n\r\n@Directive({\r\n    selector: '[pTooltip]',\r\n    host: {\r\n    },\r\n    providers: [DomHandler]\r\n})\r\nexport class Tooltip implements OnDestroy {\r\n\r\n    @Input('pTooltip') text: string;\r\n\r\n    @Input() tooltipPosition: string = 'right';\r\n    \r\n    @Input() tooltipEvent: string = 'hover';\r\n    \r\n    @Input() appendTo: any = 'body';\r\n    \r\n    @Input() positionStyle: string;\r\n    \r\n    @Input() tooltipStyleClass: string;\r\n    \r\n    @Input(\"tooltipDisabled\") disabled: boolean;\r\n    \r\n    @Input() escape: boolean = true;\r\n        \r\n    container: any;\r\n        \r\n    constructor(public el: ElementRef, public domHandler: DomHandler) {}\r\n            \r\n    @HostListener('mouseenter', ['$event']) \r\n    onMouseEnter(e: Event) {\r\n        if(this.tooltipEvent === 'hover') {\r\n            this.show();\r\n        }\r\n    }\r\n    \r\n    @HostListener('mouseleave', ['$event']) \r\n    onMouseLeave(e: Event) {\r\n        if(this.tooltipEvent === 'hover') {\r\n            this.hide();\r\n        }\r\n    }\r\n    \r\n    @HostListener('focus', ['$event']) \r\n    onFocus(e: Event) {\r\n        if(this.tooltipEvent === 'focus') {\r\n            this.show();\r\n        }\r\n    }\r\n    \r\n    @HostListener('blur', ['$event']) \r\n    onBlur(e: Event) {\r\n        if(this.tooltipEvent === 'focus') {\r\n            this.hide();\r\n        }\r\n    }\r\n    \r\n    show() {\r\n        if(!this.text || this.disabled) {\r\n            return;\r\n        }\r\n        \r\n        this.create();\r\n        let offset = (this.appendTo !== 'body') ? {left:0, top:0} : this.domHandler.getOffset(this.el.nativeElement);\r\n        let targetTop = offset.top;\r\n        let targetLeft = offset.left;\r\n        let left: number;\r\n        let top: number;\r\n        \r\n        this.container.style.display = 'block';\r\n\r\n        switch(this.tooltipPosition) {\r\n            case 'right':\r\n                left = targetLeft + this.domHandler.getOuterWidth(this.el.nativeElement);\r\n                top = targetTop + (this.domHandler.getOuterHeight(this.el.nativeElement) - this.domHandler.getOuterHeight(this.container)) / 2;\r\n            break;\r\n            \r\n            case 'left':\r\n                left = targetLeft - this.domHandler.getOuterWidth(this.container);\r\n                top = targetTop + (this.domHandler.getOuterHeight(this.el.nativeElement) - this.domHandler.getOuterHeight(this.container)) / 2;\r\n            break;\r\n            \r\n            case 'top':\r\n                left = targetLeft + (this.domHandler.getOuterWidth(this.el.nativeElement) - this.domHandler.getOuterWidth(this.container)) / 2;\r\n                top = targetTop - this.domHandler.getOuterHeight(this.container);\r\n            break;\r\n            \r\n            case 'bottom':\r\n                left = targetLeft + (this.domHandler.getOuterWidth(this.el.nativeElement) - this.domHandler.getOuterWidth(this.container)) / 2;\r\n                top = targetTop + this.domHandler.getOuterHeight(this.el.nativeElement);\r\n            break;\r\n        }\r\n        \r\n        this.container.style.left = left + 'px';\r\n        this.container.style.top = top + 'px';\r\n        this.domHandler.fadeIn(this.container, 250);\r\n        this.container.style.zIndex = ++DomHandler.zindex;\r\n    }\r\n    \r\n    hide() {\r\n        this.ngOnDestroy();\r\n    }\r\n         \r\n    create() {\r\n        let styleClass = 'ui-widget ui-tooltip ui-tooltip-' + this.tooltipPosition;\r\n        this.container = document.createElement('div');\r\n        if(this.tooltipStyleClass) {\r\n            styleClass += ' ' + this.tooltipStyleClass;\r\n        }\r\n        \r\n        this.container.className = styleClass;\r\n        \r\n        let tooltipArrow = document.createElement('div');\r\n        tooltipArrow.className = 'ui-tooltip-arrow';\r\n        this.container.appendChild(tooltipArrow);\r\n        \r\n        let tooltipText = document.createElement('div');\r\n        tooltipText.className = 'ui-tooltip-text ui-shadow ui-corner-all';\r\n\t\t\r\n\t\tif(this.escape)\r\n\t\t\ttooltipText.appendChild(document.createTextNode(this.text));\r\n\t\telse\r\n\t\t\ttooltipText.innerHTML = this.text;\r\n        \r\n        if(this.positionStyle) {\r\n            this.container.style.position = this.positionStyle;\r\n        }\r\n        \r\n        this.container.appendChild(tooltipText);\r\n        \r\n        if(this.appendTo === 'body')\r\n            document.body.appendChild(this.container);\r\n        else if(this.appendTo === 'target')\r\n            this.domHandler.appendChild(this.container, this.el.nativeElement);\r\n        else\r\n            this.domHandler.appendChild(this.container, this.appendTo);\r\n    }\r\n    \r\n    ngOnDestroy() {\r\n        if(this.container && this.container.parentElement) {\r\n            if(this.appendTo === 'body')\r\n                document.body.removeChild(this.container);\r\n            else if(this.appendTo === 'target')\r\n                this.el.nativeElement.removeChild(this.container);\r\n            else\r\n                this.domHandler.removeChild(this.container, this.appendTo);\r\n        }\r\n        this.container = null;\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [Tooltip],\r\n    declarations: [Tooltip]\r\n})\r\nexport class TooltipModule { }"]}