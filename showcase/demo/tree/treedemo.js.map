{"version":3,"file":"treedemo.js","sourceRoot":"","sources":["treedemo.ts"],"names":[],"mappings":"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","sourcesContent":["import {Component,OnInit,ViewChild} from '@angular/core';\r\nimport {NodeService} from '../service/nodeservice';\r\nimport {Message,MenuItem,TreeNode} from '../../../components/common/api';\r\nimport {Tree} from '../../../components/tree/tree';\r\nimport {TreeDragDropService} from '../../../components/common/api';\r\n\r\n@Component({\r\n    templateUrl: 'showcase/demo/tree/treedemo.html',\r\n    styles:[`\r\n        h4 {\r\n            text-align: center;\r\n            margin: 0 0 8px 0;\r\n        }\r\n    `],\r\n    providers: [TreeDragDropService]\r\n})\r\nexport class TreeDemo implements OnInit {\r\n    \r\n    msgs: Message[];\r\n\r\n    @ViewChild('expandingTree')\r\n    expandingTree: Tree;\r\n\r\n    filesTree1: TreeNode[];\r\n    filesTree2: TreeNode[];\r\n    filesTree3: TreeNode[];\r\n    filesTree4: TreeNode[];\r\n    filesTree5: TreeNode[];\r\n    filesTree6: TreeNode[];\r\n    filesTree7: TreeNode[];\r\n    filesTree8: TreeNode[];\r\n    filesTree9: TreeNode[];\r\n    filesTree10: TreeNode[];\r\n    filesTree11: TreeNode[];\r\n    \r\n    lazyFiles: TreeNode[];\r\n    \r\n    selectedFile: TreeNode;\r\n    \r\n    selectedFile2: TreeNode;\r\n    \r\n    selectedFile3: TreeNode;\r\n    \r\n    selectedFiles: TreeNode[];\r\n    \r\n    selectedFiles2: TreeNode[];\r\n    \r\n    items: MenuItem[];\r\n        \r\n    constructor(private nodeService: NodeService) { }\r\n\r\n    ngOnInit() {\r\n        this.nodeService.getFiles().then(files => this.filesTree1 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree2 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree3 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree4 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree5 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree6 = files);\r\n        this.nodeService.getFiles().then(files => this.filesTree7 = files);\r\n        this.filesTree8 = [\r\n            {\r\n                label: \"Backup\",\r\n                data: \"Backup Folder\",\r\n                expandedIcon: \"fa-folder-open\",\r\n                collapsedIcon: \"fa-folder\"\r\n            }\r\n        ];\r\n        this.filesTree9 = [\r\n            {\r\n                label: \"Storage\",\r\n                data: \"Storage Folder\",\r\n                expandedIcon: \"fa-folder-open\",\r\n                collapsedIcon: \"fa-folder\"\r\n            }\r\n        ];\r\n        this.nodeService.getFiles().then(files => this.filesTree10 = files);\r\n        this.nodeService.getFiles().then(files => {\r\n            this.filesTree11 = [{\r\n                label: 'Root',\r\n                children: files\r\n            }];\r\n        });\r\n\r\n        this.nodeService.getLazyFiles().then(files => this.lazyFiles = files);\r\n        \r\n        this.items = [\r\n            {label: 'View', icon: 'fa-search', command: (event) => this.viewFile(this.selectedFile2)},\r\n            {label: 'Unselect', icon: 'fa-close', command: (event) => this.unselectFile()}\r\n        ];\r\n    }\r\n    \r\n    nodeSelect(event) {\r\n        this.msgs = [];\r\n        this.msgs.push({severity: 'info', summary: 'Node Selected', detail: event.node.label});\r\n    }\r\n    \r\n    nodeUnselect(event) {\r\n        this.msgs = [];\r\n        this.msgs.push({severity: 'info', summary: 'Node Unselected', detail: event.node.label});\r\n    }\r\n\r\n    nodeExpandMessage(event) {\r\n        this.msgs = [];\r\n        this.msgs.push({severity: 'info', summary: 'Node Expanded', detail: event.node.label});\r\n    }\r\n    \r\n    nodeExpand(event) {\r\n        if(event.node) {\r\n            //in a real application, make a call to a remote url to load children of the current node and add the new nodes as children\r\n            this.nodeService.getLazyFiles().then(nodes => event.node.children = nodes);\r\n        }\r\n    }\r\n    \r\n    viewFile(file: TreeNode) {\r\n        this.msgs = [];\r\n        this.msgs.push({severity: 'info', summary: 'Node Selected with Right Click', detail: file.label});\r\n    }\r\n    \r\n    unselectFile() {\r\n        this.selectedFile2 = null;\r\n    }\r\n\r\n    expandAll(){\r\n        this.filesTree10.forEach( node => {\r\n            this.expandRecursive(node, true);\r\n        } );\r\n    }\r\n\r\n    collapseAll(){\r\n        this.filesTree10.forEach( node => {\r\n            this.expandRecursive(node, false);\r\n        } );\r\n    }\r\n    \r\n    private expandRecursive(node:TreeNode, isExpand:boolean){\r\n        node.expanded = isExpand;\r\n        if(node.children){\r\n            node.children.forEach( childNode => {\r\n                this.expandRecursive(childNode, isExpand);\r\n            } );\r\n        }\r\n    }\r\n}\r\n"]}